{"version":3,"sources":["remove-item-from-array.js","dibgram/TdWeb/tdlib.js","dibgram/TdWeb/config.js","dibgram/auth/auth.js","dibgram/ui/elements/ripple-effect.js","dibgram/ui/elements/highlighted-button.js","dibgram/ui/icon/chat_filters/chat-filters.js","dibgram/messenger/ui/navigation-menu/hamburger-menu/menu-button.js","dibgram/messenger/chat-store.js","dibgram/ui/scroll/scrollbar.js","dibgram/messenger/ui/navigation-menu/chat-folders.js","dibgram/ui/components/connecting.js","dibgram/ui/elements/loading-spinner.js","dibgram/TdWeb/file.js","dibgram/TdWeb/options.js","dibgram/ui/img/TgLogo.png","dibgram/messenger/ui/profile-photo.js","dibgram/ui/icon/icons.js","dibgram/messenger/users-store.js","dibgram/messenger/payments/currency-tostring.js","dibgram/messenger/message/message-summary-noicon.js","dibgram/ui/elements/link-button.js","dibgram/messenger/supergroup-store.js","dibgram/time-tostring.js","dibgram/messenger/ui/navigation-menu/chat-list.js","dibgram/messenger/chat-misc.js","dibgram/messenger/message-misc.js","dibgram/messenger/ui/navigation-menu/search/search-box.js","dibgram/messenger/ui/navigation-menu/chat-list-bar.js","dibgram/messenger/messengerWindow.js","dibgram/ui/elements/underlined-input.js","dibgram/ui/dialog/dialogs.js","dibgram/ui/elements/small-button.js","dibgram/ui/dialog/confirm-dialog.js","dibgram/auth/ui.js","dibgram/ui/themes/dibgram-theme-to-css.js","dibgram/ui/themes/theme.js","App.js","index.js"],"names":["Array","prototype","remove","item","i","this","length","splice","TdLib","log","use_test_dc","log_updates","log_queries","TdClient","useDatabase","onUpdate","update","console","forEach","h","sendQuery","type","handler","undefined","push","query","send","getUseTestDc","urlPar","URL","window","location","href","searchParams","get","registerUpdateHandler","credentials","api_id","api_hash","auth_state","Auth","number","code","pass","first","last","RippleEffect","Math","max","hypot","props","X","Y","width","height","state","className","style","getMaxRadius","backgroundColor","color","React","Component","handleMyMouseEvents","This","e","ripple","setState","setTimeout","nativeEvent","offsetX","offsetY","target","clientWidth","clientHeight","bind","mouseUp","BigHighlightedButton","mouseDown","mouseLeave","onClick","onMouseDown","onMouseUp","onMouseLeave","children","chatFilerIcons","all","HamburgerMenuButton_WithFolders","id","chatStore","createStore","currentChatList","chats","filters","action","chatList","chat","map","chat_id","changed","newChat","positions","position","compareChatList","list","filter","payload","property","value","photo","title","last_message","__REDUX_DEVTOOLS_EXTENSION__","dispatch","action_bar","default_disable_notification","draft_message","chat_filters","has_scheduled_messages","is_blocked","is_marked_as_unread","notification_settings","online_member_count","permissions","unread_count","last_read_inbox_message_id","last_read_outbox_message_id","reply_markup_message_id","unread_mention_count","list1","list2","chat_filter_id","ScrollView","useState","mouseEntered","setMouseEntered","timeoutId","setTimeoutId","scrollBarWidth","propsRest","data-mouse-entered","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","onMouseEnter","clearTimeout","autoHide","autoHideTimeout","hideTracksWhenNotNeeded","ChatFolder","folder","active","dangerouslySetInnerHTML","__html","connect","currentConnectionState","folders","currentFolder","icon","LoadingSpinner","percentage","percent","caps","trackColor","spin","transitionDuration","intervalNum","setInterval","clearInterval","size","PropTypes","isRequired","lineWidth","progressColor","string","ConnectionState","cState","handleUpdate","includes","unRegisterUpdateHandler","addEventListener","downloadCallbacks","getFileContent","file","priority","local","is_downloading_completed","is_downloading_active","Promise","resolve","reject","callback","result","then","catch","file_id","onReject","downloadFile","options","name","profileNameToInitials","words","replace","toUpperCase","split","ProfilePhoto","customIcon","setPhoto","photoObj","setPhotoObj","isServiceMessages","isSavedMessages","isReplies","useEffect","blob","data","webkitURL","createObjectURL","tgLogo","Fragment","Initials","src","abs","getChatTypeId","supergroup_id","basic_group_id","user_id","usersStore","user","currencyAmountToString","currency","total_amount","currencyObject","currencies","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","exp","MessageSummaryWithoutIcon","users","message","content","MayHaveCaption","caption","text","audio","file_name","performer","SenderFullName","is_outgoing","discard_reason","members","member_user_ids","last_name","first_name","slice","join","sender","is_channel_post","deletedMember","includeYou","86400","604800","2678400","ttl","emoji","document","game","noGameTitleFallback","score","GameScoreWithTitle","lazy","message_id","game_message_id","default","Suspense","fallback","passportDataTypeToString","passportDataTypes","types","noInvoiceTitleFallback","PaymentInfoWithInvoiceTitle","invoice_message_id","error","is_secret","poll","question","sticker","venue","domain_name","MessageSummarySender","part1","LinkButton","supergroupStore","supergroup","smallDateTimeToString","date","TdLibDateToDate","now","Date","yesterday","getTime","lastWeek","hours","getHours","minutes","getMinutes","ampm","timeToString","getDay","weekdayToString","day","getDate","month","getMonth","year","String","getFullYear","dateToString","tdLibDate","ChatList","order","sort","a","b","order1","order2","array","getChatsFromList","ChatListItem","EmptyChatList","chatType","is_channel","getState","isChatWithDeletedAccount","isVerified","is_verified","isChatVerified","messageStatus","sending_state","getMessageStatus","unreadBadge","unreadBadgeClass","mute_for","is_pinned","small","input_message_text","store","SearchBox","placeholder","onChange","data-visible","ChatListBar","useFolders","searchText","setSearchText","MessengerWindow","UnderlinedInput","args","handleFocus","inactive","titleClass","getTitleClass","handleBlur","mouseX","handleMouseDown","handleKeyDown","key","onEnterKeyPressed","autoFocus","focus","invalid","onFocus","onBlur","onKeyDown","maxLength","onCopy","disableCopy","preventDefault","dialogStore","dialog","removeDialog","Wrapper","Dialogs","dialogs","el","element","SmallButton","ConfirmDialog","closing","handleOK","closeDialog","onOK","handleCancel","onCancel","hideCancelButton","OKButtonText","initialAuthState","setInitialAuthState","manageStatusTextContent","thisClass","Status","statusVisible","statusContent","changeStatus","MainApp","step","handleAuthStateUpdate","info","code_info","reload","AuthWindowStepPhoneNumber","handlePNFieldChange","event","submitNumber","givePhoneNumber","reason","AuthWindowStepCode","handleCodeFieldChange","handleContinueButton","checkAuthCode","phone_number","AuthWindowStepPassword","password","handlePasswordFieldChange","check2FACode","body","password_hint","AuthWindowStepRegister","firstName","lastName","handleFirstNameFieldChange","handleLastNameFieldChange","registerNewAccount","textUnderField","convertThemeToCSS","theme","css","obj","equals","CurrentThemeCSS","classic","isThemeDark","isDark","initializeTdLib","res","App","data-theme-is-dark","ReactDOM","render","toString","getElementById","StrictMode"],"mappings":"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","file":"static/js/main.ee7ec206.chunk.js","sourcesContent":["// https://love2dev.com/blog/javascript-remove-from-array/#remove-from-array-splice\n/**\n * Removes an item from an array\n * @param {*} item The item to remove\n */\nArray.prototype.remove = function (item) {\n    for( var i = 0; i < this.length; i++){ \n        if ( this[i] === item) { \n            this.splice(i, 1); \n        }\n    }\n};\n\nexport default Array.prototype.remove;","import TdClient from 'tdweb';\nimport {getConfig} from './config';\n\n/**\n * Provides options to communicate with the Tdweb library\n */\nexport default class TdLib {\n    /** @type TdClient */\n    static #tdClient;\n    /** @type {[string: Array<Function>]} */\n    static #updateHandlers={};\n\n    /**\n     * Creates the instance of Tdweb\n     */\n    static async initializeTdLib() {\n        const {log}= getConfig();\n        TdLib.#tdClient= new TdClient({\n            useDatabase: true,\n            onUpdate: function (update) {\n                if(log.log_updates) {\n                    console.log('Update: ',update);\n                }\n                if(TdLib.#updateHandlers[update['@type']]){\n                    TdLib.#updateHandlers[update['@type']].forEach(h => h(update));\n                }\n            }\n        });\n        return await TdLib.sendQuery({'@type': 'getAuthorizationState'});\n    }\n\n    /**\n     * Listen for updates from TdLib\n     * @param {string} type The type of the update to listen to. Look for TdLib API docs for types\n     * @param {Function} handler The function that gets called with the update object when the update is received\n     */\n    static registerUpdateHandler(type, handler) {\n        if(TdLib.#updateHandlers[type]===undefined){\n            TdLib.#updateHandlers[type]= [];\n        }\n        TdLib.#updateHandlers[type].push(handler);\n    }\n\n    /**\n     * Remove an existing update handler\n     * @param {string} type The type of the update to remove handler from. Look for TdLib API docs for types\n     * @param {Function} handler The handler to remove\n     */\n    static unRegisterUpdateHandler(type, handler) {\n        if(TdLib.#updateHandlers[type]===undefined){\n            return;\n        }\n        TdLib.#updateHandlers[type].remove(handler);\n    }\n\n    /**\n     * Send a request to the TdLib instance\n     * If the query contains an `@extra` field, the same field will be added to the result\n     * @param {import('tdweb').TdObject} query The request to send. Consult TdLib & JSON interface API for help.\n     */\n    static sendQuery(query) {\n        const {log}= getConfig();\n        if(log.log_queries) {\n            console.log('Query: ',query);\n        }\n        return TdLib.#tdClient.send(query);\n    }\n}","export function getCredentials() {return {api_id: 3022678,api_hash: 'd7b7676a82906a6182f4a5e5e9555673'};}export function getConfig() {return {use_test_dc: false,log: {log_updates: true,log_queries: true}};}\n","import TdLib from '../TdWeb/tdlib';\nimport {getCredentials, getConfig} from '../TdWeb/config';\n\nTdLib.registerUpdateHandler('updateAuthorizationState',function (update) {\n    const credentials= getCredentials();\n    const auth_state= update['authorization_state'];\n    \n    if(auth_state['@type']==='authorizationStateWaitEncryptionKey'){\n        TdLib.sendQuery({'@type': 'checkDatabaseEncryptionKey', 'encryption_key': ''});\n    }\n    if(auth_state['@type']==='authorizationStateWaitTdlibParameters'){\n        TdLib.sendQuery({\n            '@type': 'setTdlibParameters',\n            'parameters': {\n                'database_directory': 'tdlib',\n                'use_message_database': true,\n                'use_secret_chats': true,\n                'api_id': credentials.api_id,\n                'api_hash': credentials.api_hash,\n                'system_language_code': 'en',\n                'device_model': 'Web',\n                'application_version': '0.0.1',\n                'enable_storage_optimizer': true,\n                'use_test_dc': getUseTestDc(),\n            }\n        });\n    }\n});\n\nfunction getUseTestDc(){\n    var urlPar=new URL(window.location.href).searchParams.get('test');\n    if(urlPar){\n        return urlPar==='1' || urlPar==='true';\n    }\n    return getConfig().use_test_dc;\n}\n\n/**\n * Provides functions to pass required authorization data to Telegram\n */\nexport default class Auth {\n    /**\n     * Pass phone number of the account to be logged in to\n     * @param {string} number The phone number the user entered\n     * @returns TdLib query result\n     */\n    static async givePhoneNumber(number) {\n        return await TdLib.sendQuery({'@type': 'setAuthenticationPhoneNumber', 'phone_number': number});\n    }\n    /**\n     * Pass authorization code the user has received\n     * @param {string} code The code the user entered\n     * @returns TdLib query result\n     */\n    static async checkAuthCode(code) {\n        return await TdLib.sendQuery({'@type': 'checkAuthenticationCode', 'code': code});\n    }\n    /**\n     * Pass 2FA password of the account\n     * @param {string} pass The password the user entered\n     * @returns TdLib query result\n     */\n    static async check2FACode(pass) {\n        return await TdLib.sendQuery({'@type': 'checkAuthenticationPassword', 'password': pass});\n    }\n    /**\n     * Sign up to Telegram\n     * @param {string} first The first name to be used in the new account\n     * @param {string} last Tha last name to be used in the new account\n     * @returns TdLib query result\n     */\n    static async registerNewAccount(first, last) {\n        return await TdLib.sendQuery({'@type': 'registerUser', 'first_name': first, 'last_name': last});\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Adds a ripple effect to a button.\n * \n * Insert at the beginning of the button.\n * \n * **Note:** The button needs `position: relative;` and `overflow: hidden;`\n */\nexport default class RippleEffect extends React.Component {\n    static propTypes= {\n        /** \n         * - Change to `pressed` on `mouseDown`\n         * - Change to `released` on `mouseUp`\n         * - Change to `off` 1000ms after `mouseUp`\n         */\n        state: PropTypes.oneOf(['off', 'pressed', 'released']).isRequired,\n        X: PropTypes.number,\n        Y: PropTypes.number,\n        width: PropTypes.number,\n        height: PropTypes.number,\n        /** The color to show in the ripple (same as `:active` if you used CSS) */\n        color: PropTypes.string.isRequired,\n    }\n\n    /** Gets the smallest radius that a circle, centered at click location, needs to fill the button */\n    getMaxRadius() {\n    //  It's a bit hard to understand. Let me explain:\n    //  \n    //  1. It calculates the coordinates relative to the 4 edges of the button ────╮\n    //  2. The diagonal distance to the edges are calculated using the             │\n    //      pythagoras rule, from the results of step 1            │               │\n    //  3. The biggest distance is selected and then returned.     │               │\n    //          │                                                  │               │\n    //  ╭───────┴──────╮  ╭────────────────────────────────────────╯               │        \n    //  │           ╭──┼──┴───╮                                                    │                  \n        return Math.max(//    │╭───────────────────────────────────────────────────┴──────────────╮\n            /* ┏ */ Math.hypot(this.props.X                     , this.props.Y),//                │ \n            /* ┓ */ Math.hypot(this.props.width - this.props.X  , this.props.Y),//                │\n            /* ┗ */ Math.hypot(this.props.X                     , this.props.height - this.props.Y), \n            /* ┛ */ Math.hypot(this.props.width - this.props.X  , this.props.height - this.props.Y), \n        );\n    }\n    render() {\n        if(this.props.state=='off') return null;\n        return (\n            <div\n                className={'ripple '+this.props.state}\n                style={{\n                    '--top': (this.props.Y || 0)+'px',\n                    '--left': (this.props.X || 0)+'px',\n                    '--radius': this.getMaxRadius()+'px',\n                    backgroundColor: this.props.color\n                }}/>\n        );\n    }\n}\n\n// Assign your `mouseDown`, `mouseUp` and `mouseLeave` to the returned functions.\nexport function handleMyMouseEvents(This) {\n    return [\n        /**@param e {React.SyntheticEvent} */\n        (function(e) {\n            // Reset the ripple effect if it's not off\n            if(this.state.ripple.state!='off'){\n                this.setState({\n                    ripple: { state: 'off' }\n                });\n                setTimeout(() => {\n                    this.setState({\n                        ripple: {\n                            state: 'pressed',\n                            X: e.nativeEvent.offsetX,\n                            Y: e.nativeEvent.offsetY,\n                            width: e.target.clientWidth,\n                            height: e.target.clientHeight\n                        }\n                    });\n                }, 10);\n                return;\n            }\n            this.setState({\n                ripple: {\n                    state: 'pressed',\n                    X: e.nativeEvent.offsetX,\n                    Y: e.nativeEvent.offsetY,\n                    width: e.target.clientWidth,\n                    height: e.target.clientHeight\n                }\n            });\n        }).bind(This),\n\n        (function(e) {\n            this.setState({\n                ripple: { \n                    state: 'released',\n                    X: e.nativeEvent.offsetX,\n                    Y: e.nativeEvent.offsetY,\n                    width: e.target.clientWidth,\n                    height: e.target.clientHeight \n                }\n            });\n        }).bind(This),\n\n        (function(e) {\n            if(this.state.ripple.state=='pressed') {\n                this.mouseUp(e);\n            }\n        }).bind(This)\n    ];\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RippleEffect, {handleMyMouseEvents} from './ripple-effect';\n\n/**\n * Renders a BIG button which is filled with accent color\n */\nexport default class BigHighlightedButton extends React.Component{\n    static propTypes= {\n        /** Fires when the button is clicked */\n        onClick: PropTypes.func,\n        /** The button's content */\n        children: PropTypes.node.isRequired\n    };\n    state= {\n        ripple: {\n            state: 'off'\n        }\n    }\n    constructor() {\n        super();\n        [this.mouseDown, this.mouseUp, this.mouseLeave]= handleMyMouseEvents(this);\n    }\n\n    render () {\n        return (\n            <button \n                className=\"big-highlighted-button\" \n                onClick={this.props.onClick}\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                onMouseLeave={this.mouseLeave}>\n\n                <RippleEffect {...this.state.ripple} color=\"var(--theme-color-activeButtonBgRipple)\"/>\n                <div className=\"content\">\n                    {this.props.children}\n                </div>\n            </button>\n        );\n    }\n}","// All icons are from Telegram Desktop, converted to SVG using https://pngtosvg.com/\n\nimport raw from 'raw.macro';\n\nvar chatFilerIcons = {\n    all: [raw('./all.svg'), raw('./all_active.svg')]\n};\nexport default chatFilerIcons;\n","import React from 'react';\nimport RippleEffect, {handleMyMouseEvents} from '../../../../ui/elements/ripple-effect';\n/**\n * Renders the button which opens the hamburger menu\n */\nexport default class HamburgerMenuButton_WithFolders extends React.Component {\n    state= {\n        ripple: {\n            state: 'off'\n        }\n    }\n    constructor() {\n        super();\n        [this.mouseDown, this.mouseUp, this.mouseLeave]= handleMyMouseEvents(this);\n    }\n    render() {\n        return (\n            <button id=\"hamburger-menu-button\"\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                onMouseLeave={this.mouseLeave}>\n                <div id=\"bars\"><span></span><span></span><span></span></div>\n                <RippleEffect {...this.state.ripple} color=\"var(--theme-color-sideBarBgRipple)\"/>\n            </button>\n        );\n    }\n}","import { createStore } from 'redux';\nimport TdLib from '../TdWeb/tdlib';\n\nconst chatStore= createStore(reducer, \n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n    \nfunction reducer(state= {\n    currentChatList: {'@type': 'chatListMain'},\n    chats: [],\n    filters: []\n}, action) {\n    switch (action.type) {\n    case 'SET_CURRENT_CHAT_LIST':\n        return {\n            ...state,\n            currentChatList: action.chatList\n        };\n    case 'ADD_CHAT':\n        return {\n            ...state,\n            chats: [\n                ...state.chats,\n                action.chat\n            ]\n        };\n    case 'UPDATE_CHAT_POSITION': // Replace the position property of a chat\n        return {\n            ...state,\n            chats: state.chats.map((chat) => {\n                if (chat.id === action.chat_id) {\n                    let changed=false;\n                    let newChat = {\n                        ...chat,\n                        positions: chat.positions.map((position) => {\n                            if (compareChatList(position.list, action.position.list)) {\n                                changed=true;\n                                return action.position;\n                            }\n                            return position;\n                        })\n                    };\n                    if(!changed) {\n                        return {\n                            ...chat,\n                            positions: [\n                                ...chat.positions,\n                                action.position\n                            ]\n                        };\n                    }\n                    return newChat;\n                }\n                return chat;\n            })\n        };\n    case 'REMOVE_CHAT':\n        return {\n            ...state,\n            chats: state.chats.filter(chat => chat.id !== action.chat.id)\n        };\n    case 'REPLACE_CHAT_FILTERS':\n        return {\n            ...state,\n            filters: action.payload\n        };\n    case 'UPDATE_CHAT_PROPERTY':\n        return {\n            ...state,\n            chats: state.chats.map((chat) => {\n                if (chat.id === action.chat_id) {\n                    return {\n                        ...chat,\n                        [action.property]: action.value\n                    };\n                }\n                return chat;\n            })\n        };\n    case 'UPDATE_CHAT_PHOTO':\n        return {\n            ...state,\n            chats: state.chats.map((chat) => {\n                if (chat.id === action.chat_id) {\n                    return {\n                        ...chat,\n                        photo: action.photo\n                    };\n                }\n                return chat;\n            })\n        };\n    case 'UPDATE_CHAT_TITLE':\n        return {\n            ...state,\n            chats: state.chats.map((chat) => {\n                if (chat.id === action.chat_id) {\n                    return {\n                        ...chat,\n                        title: action.title\n                    };\n                }\n                return chat;\n            })\n        };\n    case 'UPDATE_CHAT_LAST_MESSAGE':\n        return {\n            ...state,\n            chats: state.chats.map((chat) => {\n                if (chat.id === action.chat_id) {\n                    return {\n                        ...chat,\n                        last_message: action.last_message\n                    };\n                }\n                return chat;\n            })\n        };\n    default:\n        return state;\n    }\n}\n\nTdLib.registerUpdateHandler('updateNewChat', update => {\n    chatStore.dispatch({\n        type: 'ADD_CHAT',\n        chat: update.chat\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatActionBar', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'action_bar',\n        chat_id: update.chat_id,\n        value: update.action_bar\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatDefaultDisableNotification', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'default_disable_notification',\n        chat_id: update.chat_id,\n        value: update.default_disable_notification\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatDraftMessage', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'draft_message',\n        chat_id: update.chat_id,\n        value: update.draft_message\n    });\n    for (let position of update.positions) {\n        chatStore.dispatch({\n            type: 'UPDATE_CHAT_POSITION',\n            chat_id: update.chat_id,\n            position: position\n        });\n    }\n});\n\nTdLib.registerUpdateHandler('updateChatFilters', update=> {\n    if(update.chat_filters) {\n        chatStore.dispatch({\n            type: 'REPLACE_CHAT_FILTERS',\n            payload: update.chat_filters\n        });\n    }\n});\n\nTdLib.registerUpdateHandler('updateChatHasScheduledMessages', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'has_scheduled_messages',\n        chat_id: update.chat_id,\n        value: update.has_scheduled_messages\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatIsBlocked', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'is_blocked',\n        chat_id: update.chat_id,\n        value: update.is_blocked\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatIsMarkedAsUnread', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'is_marked_as_unread',\n        chat_id: update.chat_id,\n        value: update.is_marked_as_unread\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatLastMessage', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'last_message',\n        chat_id: update.chat_id,\n        value: update.last_message\n    });\n    for (let position of update.positions) {\n        chatStore.dispatch({\n            type: 'UPDATE_CHAT_POSITION',\n            chat_id: update.chat_id,\n            position: position\n        });\n    }\n});\n\nTdLib.registerUpdateHandler('updateChatNotificationSettings', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'notification_settings',\n        chat_id: update.chat_id,\n        value: update.notification_settings\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatOnlineMemberCount', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'online_member_count',\n        chat_id: update.chat_id,\n        value: update.online_member_count\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatPermissions', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'permissions',\n        chat_id: update.chat_id,\n        value: update.permissions\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatPhoto', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'photo',\n        chat_id: update.chat_id,\n        value: update.photo\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatPosition', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_POSITION',\n        chat_id: update.chat_id,\n        position: update.position\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatReadInbox', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'unread_count',\n        chat_id: update.chat_id,\n        value: update.unread_count\n    });\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'last_read_inbox_message_id',\n        chat_id: update.chat_id,\n        value: update.last_read_inbox_message_id\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatReadOutbox', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'last_read_outbox_message_id',\n        chat_id: update.chat_id,\n        value: update.last_read_outbox_message_id\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatReplyMarkup', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'reply_markup_message_id',\n        chat_id: update.chat_id,\n        value: update.reply_markup_message_id\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatTitle', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'title',\n        chat_id: update.chat_id,\n        value: update.title\n    });\n});\n\nTdLib.registerUpdateHandler('updateChatUnreadMentionCount', update=> {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'unread_mention_count',\n        chat_id: update.chat_id,\n        value: update.unread_mention_count\n    });\n});\n\nTdLib.registerUpdateHandler('updateMessageMentionRead', update => {\n    chatStore.dispatch({\n        type: 'UPDATE_CHAT_PROPERTY',\n        property: 'unread_mention_count',\n        chat_id: update.chat_id,\n        value: update.unread_mention_count\n    });\n});\n\nexport default chatStore;\n\nexport function compareChatList(list1, list2) {\n    if (list1['@type'] != list2['@type']) {\n        return false;\n    }\n    if (list1['@type'] == 'chatListFilter') {\n        return list1.chat_filter_id == list2.chat_filter_id;\n    }\n    return true;\n}\n\n/**\n * Gets a chat from a chat ID. Has caching.\n */\nexport function getChat(id) {\n    let res;\n    for(let chat of chatStore.getState()?.chats) {\n        if(chat.id==id) res = Promise.resolve(chat);\n    }\n    if(!res){\n        res = TdLib.sendQuery({\n            '@type': 'getChat',\n            'chat_id': id\n        });\n    }\n    return res;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport './scrollbar.scss';\n\nexport default function ScrollView(props) {\n    const [mouseEntered, setMouseEntered] = React.useState(false);\n    const [timeoutId, setTimeoutId] = React.useState(null);\n    const {scrollBarWidth, ...propsRest} = props;\n    return (\n        <Scrollbars\n            className=\"scrollbar\"\n            style= {{ '--bar-width': (scrollBarWidth || 4)+'px' }}\n            data-mouse-entered={mouseEntered}\n            renderTrackHorizontal={props => <div {...props} className=\"track-horizontal\" />}\n            renderTrackVertical={props => <div {...props} className=\"track-vertical\" />}\n            renderThumbHorizontal={props => <div {...props} className=\"thumb-horizontal\" />}\n            renderThumbVertical={props => <div {...props} className=\"thumb-vertical\" />}\n            onMouseEnter={() => {\n                setMouseEntered(true);\n                setTimeoutId(setTimeout(() => {\n                    setMouseEntered(false);\n                }, 1000));\n            }}\n            onMouseLeave={() => {\n                setMouseEntered(false);\n                clearTimeout(timeoutId);\n            }}\n            autoHide\n            autoHideTimeout={1000}\n            hideTracksWhenNotNeeded={true}\n            {...propsRest}\n        />\n    );\n}\nScrollView.propTypes = {\n    scrollBarWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filters from '../../../ui/icon/chat_filters/chat-filters';\nimport RippleEffect, {handleMyMouseEvents} from '../../../ui/elements/ripple-effect';\nimport HamburgerMenuButton_WithFolders from './hamburger-menu/menu-button';\nimport { compareChatList } from '../../chat-store';\nimport TdLib from '../../../TdWeb/tdlib';\nimport ScrollView from '../../../ui/scroll/scrollbar';\n\n/**\n * Renders a chat folder button\n */\nexport class ChatFolder extends React.Component {\n    static propTypes= {\n        /** The folder object provided by TdLib */\n        folder: PropTypes.object.isRequired,\n        /** A boolean indicating if the folder is currently selected */\n        active: PropTypes.bool.isRequired,\n        /** A function to call when the folder is clicked */\n        onClick: PropTypes.func.isRequired\n    }\n    state= {\n        ripple: {\n            state: 'off'\n        }\n    }\n    constructor() {\n        super();\n        [this.mouseDown, this.mouseUp, this.mouseLeave]= handleMyMouseEvents(this);\n    }\n\n    componentDidMount(){\n        TdLib.sendQuery({\n            '@type': 'getChats',\n            'chat_list': {\n                '@type': 'chatListFilter',\n                'chat_filter_id': this.props.folder.id,\n            },\n            'offset_order': '9223372036854775807',\n            'offset_chat_id': 0,\n            'limit': 50\n        });\n    }\n\n    render(){\n        return (\n            <div className={this.props.active ? 'item active' : 'item'}>\n                <RippleEffect {...this.state.ripple} color=\"var(--theme-color-sideBarBgRipple)\"/>\n                <button\n                    onMouseDown={this.mouseDown}\n                    onMouseUp={this.mouseUp}\n                    onMouseLeave={this.mouseLeave}\n                    onClick={this.props.onClick}>\n\n                    <div className=\"icon\" dangerouslySetInnerHTML={{__html:filters.all[this.props.active+0]}}></div>\n                    <div className=\"title\">{this.props.folder.title}</div>\n                </button>\n            </div>\n        );\n    }\n}\n\n/**\n * Renders the chat folders list\n */\nfunction ChatFolderList({folders, currentFolder, dispatch}) {\n    if(!folders || folders.length==0) return null;\n    return (\n        <div id=\"chat-folders-list\">\n            <HamburgerMenuButton_WithFolders/>\n            <ScrollView scrollBarWidth=\"4\" className=\"list scrollbar full-size\">\n                <ChatFolder \n                    active={compareChatList(currentFolder, {'@type': 'chatListMain'})} \n                    folder={{ title: 'All chats', icon: 'all' }}\n                    onClick={()=> dispatch({\n                        type: 'SET_CURRENT_CHAT_LIST',\n                        chatList: { '@type': 'chatListMain' }\n                    })}/>\n                \n                {folders.map(folder=> (\n                    <ChatFolder folder={folder} key={folder.id}\n                        active={compareChatList(currentFolder, \n                            {'@type': 'chatListFilter', 'chat_filter_id': folder.id})}\n                        onClick={()=> dispatch({\n                            type: 'SET_CURRENT_CHAT_LIST',\n                            chatList: { \n                                '@type': 'chatListFilter',\n                                chat_filter_id: folder.id\n                            }\n                        })}/>\n                ))}\n            </ScrollView>\n        </div>\n    );\n}\nChatFolderList.propTypes={\n    folders: PropTypes.arrayOf(PropTypes.object),\n    currentFolder: PropTypes.object,\n    dispatch: PropTypes.func\n};\nexport default connect(state=>({\n    folders:state.filters, \n    currentFolder: state.currentChatList\n}))(ChatFolderList);","import React from 'react';\nimport TdLib from '../../TdWeb/tdlib';\nimport LoadingSpinner from '../elements/loading-spinner';\n\nexport var currentConnectionState;\n\n/**\n * Renders the connecting spinner at the bottom left corner, which is hidden when connected\n */\nexport default class ConnectionState extends React.Component {\n    state= {\n        cState: 'connectionStateReady',\n    }\n    render () {\n        return (\n            <div className={'connectionState'+(([\n                'connectionStateConnecting',\n                'connectionStateConnectingToProxy',\n                'connectionStateWaitingForNetwork'\n            ].includes(this.state.cState))? '' : ' connected')}>\n                <LoadingSpinner\n                    progressColor=\"var(--theme-color-menuIconFg)\"\n                    size=\"20\"\n                    lineWidth=\"2\"/>\n            </div>\n        );\n    }\n    handleUpdate = (update) => {\n        this.setState({\n            cState: update.state['@type']\n        });\n        currentConnectionState = update.state['@type'];\n    }\n    componentDidMount () {\n        TdLib.registerUpdateHandler('updateConnectionState', this.handleUpdate);\n    }\n    componentWillUnmount () {\n        TdLib.unRegisterUpdateHandler('updateConnectionState', this.handleUpdate);\n    }\n\n}\n\naddEventListener('online', () => {\n    TdLib.sendQuery({\n        '@type':'setNetworkType',\n        'type': {\n            '@type': 'networkTypeOther'\n        }\n    });\n});\naddEventListener('offline', () => {\n    TdLib.sendQuery({\n        '@type':'setNetworkType',\n        'type': {\n            '@type': 'networkTypeNone'\n        }\n    });\n});\n","import { ProgressRing } from 'progress-ring';\nimport 'progress-ring/src/styles.css';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Renders a spinner which in addition to spinning, also changes size.\n */\nexport default class LoadingSpinner extends React.Component {\n    static props= {\n        size: PropTypes.number.isRequired,\n        lineWidth: PropTypes.number.isRequired,\n        progressColor: PropTypes.string.isRequired\n    }\n    state= {\n        percentage: 10\n    }\n    render () {\n        return (\n            <div className=\"loading-spinner\">\n                <ProgressRing\n                    percent={this.state.percentage}\n                    caps='round'\n                    trackColor=\"transparent\"\n                    spin=\"true\"\n                    {...this.props}\n                    transitionDuration=\"2000\"/>\n            </div>\n        );\n    }\n\n    componentDidMount () {\n        this.intervalNum= setInterval(() => {\n            this.setState({\n                percentage: (90 - this.state.percentage)\n            });\n        }, 2000);\n    }\n\n    componentWillUnmount () {\n        clearInterval(this.intervalNum);\n    }\n}","import TdLib from './tdlib';\n\nexport function downloadFile (file_id, priority) {\n    let onReject;\n    TdLib.sendQuery({\n        '@type': 'downloadFile',\n        'file_id': file_id,\n        'priority': priority,\n        'offset': 0,\n        'limit': 0,\n        'synchronous': false\n    }).catch(onReject);\n\n    return new Promise((resolve, reject) => {\n        downloadCallbacks[file_id]=result=> {\n            resolve(result);\n            delete downloadCallbacks[file_id];\n        };\n        onReject=reject;\n    });\n}\nvar downloadCallbacks = {};\n\nTdLib.registerUpdateHandler('updateFile', function (update) {\n    if(update.file.local.is_downloading_completed){\n        downloadCallbacks[update.file.id]?.(update.file);\n    }\n});\n\n// Downloads the file if it is not already downloaded, then reads the file and returns the file content as a blob.\nexport function getFileContent(file, priority) {\n    if(file.local.is_downloading_completed){\n        return TdLib.sendQuery({\n            '@type': 'readFilePart',\n            'file_id': file.id,\n            'offset': 0,\n            'count': 0\n        });\n    } else if(file.local.is_downloading_active){\n        return new Promise((resolve, reject) => {\n            const callback = downloadCallbacks[file.id];\n            downloadCallbacks[file.id] = (result) => {\n                callback(result);\n                TdLib.sendQuery({\n                    '@type': 'readFilePart',\n                    'file_id': file.id,\n                    'offset': 0,\n                    'count': 0\n                }).then(resolve).catch(reject);\n            };\n        });\n    } else {\n        return new Promise((resolve, reject) => {\n            downloadFile(file.id, priority).then(()=> {\n                TdLib.sendQuery({\n                    '@type': 'readFilePart',\n                    'file_id': file.id,\n                    'offset': 0,\n                    'count': 0\n                }).then(resolve).catch(reject);\n            }).catch(reject);\n        });\n    }\n}\n\nexport function blobToUrl (blob) {\n    return (window.URL || window.webkitURL).createObjectURL(blob);\n}\n","import TdLib from './tdlib';\n\n/**\n * Contains all options received from TdLib `updateOption`s\n */\nvar options={};\n\nTdLib.registerUpdateHandler('updateOption', function (update) {\n    options[update.name]=update.value.value;\n});\n\nexport default options;\n","export default __webpack_public_path__ + \"static/media/TgLogo.d1ff1195.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { blobToUrl, getFileContent } from '../../TdWeb/file';\nimport options from '../../TdWeb/options';\nimport './profile-photo.scss';\nimport tgLogo from '../../ui/img/TgLogo.png';\nimport { saved_messages, replies_userpic } from '../../ui/icon/icons';\n\nexport function profileNameToInitials(name) {\n    const words=name.replace(/[\\u0021-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007F]/g,'').toUpperCase().split(' ');\n    if(words[0].length==0){\n        return '';\n    } else if(words.length===1) {\n        return words[0][0];\n    } else {\n        return words[0][0] + words[words.length-1][0];\n    }\n}\n\nexport default function ProfilePhoto (props) {\n    const [photo, setPhoto] = React.useState(null);\n    const [photoObj, setPhotoObj] = React.useState(null);\n    const isServiceMessages= props.id==options['telegram_service_notifications_chat_id'];\n    const isSavedMessages= props.id==options['my_id'];\n    const isReplies= props.id==options['replies_bot_chat_id'];\n    \n    React.useEffect(() => {\n        if(props.photo){\n            if(photoObj!=props.photo){\n                getFileContent(props.photo, 8).then(file=> {\n                    setPhoto(blobToUrl(file.data));\n                    setPhotoObj(props.photo);\n                });\n            }\n        } else {\n            if(photo && photoObj){\n                setPhoto(null);\n                setPhotoObj(null);\n            }\n        }\n    }, [props.photo]);\n\n    var customIcon; \n    if(isSavedMessages){\n        customIcon= [0, saved_messages];\n    }\n    if(isReplies){\n        customIcon= [0, replies_userpic];\n    }\n    if((!props.photo) && isServiceMessages) {\n        customIcon = [1, tgLogo];\n    }\n    return (\n        <div className=\"profile-photo\">\n            {\n                customIcon? (\n                    customIcon[0]?\n                        <React.Fragment>\n                            <Initials id={props.id} name={props.name}/>\n                            <img src={customIcon[1]}/>\n                        </React.Fragment>\n                        :\n                        <div className=\"svg\" dangerouslySetInnerHTML={{__html: customIcon[1]}}/>\n                ) : (\n                    (props.photo && photo) ? \n                        <img src={photo}/> \n                        : \n                        <Initials id={props.id} name={props.name}/>\n                )\n            }\n        </div>\n    );\n}\nProfilePhoto.propTypes = {\n    name: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    photo: PropTypes.object\n};\n\nfunction Initials({id, name}) {\n    return (\n        <span className={'initials color_'+ ((Math.abs(id || 0) % 7) + 1)}>\n            {profileNameToInitials(name)}\n        </span>\n    );\n}\nInitials.propTypes = {\n    name: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired\n};\n\nexport function getChatTypeId(chat) {\n    switch (chat?.type?.['@type']) {\n    case 'chatTypeSupergroup': {\n        return chat?.type?.supergroup_id;\n    }\n    case 'chatTypeBasicGroup': {\n        return chat?.type?.basic_group_id;\n    }\n    case 'chatTypePrivate':\n    case 'chatTypeSecret': {\n        return chat?.type?.user_id;\n    }\n    }\n    return null;\n}\n","// All icons are from Telegram Desktop, converted to SVG using https://pngtosvg.com/\n\nimport raw from 'raw.macro';\n\nexport const dialogs_bot = raw('./dialogs_bot.svg');\nexport const dialogs_channel = raw('./dialogs_channel.svg');\nexport const dialogs_chat = raw('./dialogs_chat.svg');\nexport const dialogs_pinned = raw('./dialogs_pinned.svg');\nexport const dialogs_verified_star = raw('./dialogs_verified_star.svg');\nexport const dialogs_verified_check = raw('./dialogs_verified_check.svg');\n//export const dialogs_search_cancel = raw('./dialogs_search_cancel.svg');\nexport const dialogs_sending = raw('./dialogs_sending.svg');\nexport const dialogs_sent = raw('./dialogs_sent.svg');\nexport const dialogs_received = raw('./dialogs_received.svg');\nexport const info_close = raw('./info_close.svg');\nexport const replies_userpic = raw('./replies_userpic.svg');\nexport const saved_messages = raw('./saved_messages.svg');\n","import { createStore } from 'redux';\nimport TdLib from '../TdWeb/tdlib';\n\nconst usersStore = createStore((state = {}, action) => {\n    switch (action.type) {\n    case 'UPD_USER':\n        return {\n            ...state,\n            [action.user.id]: action.user\n        };\n    default:\n        return state;\n    }\n}, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nTdLib.registerUpdateHandler('updateUser', (update) => {\n    usersStore.dispatch({\n        type: 'UPD_USER',\n        user: update.user\n    });\n});\n\nexport default usersStore;\n","import currencies from './currencies';\n\nexport default function currencyAmountToString (currency, total_amount) {\n    const currencyObject= currencies[currency];\n    var formatter = new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: currency,\n        \n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n    });\n    return formatter.format(total_amount / 10**currencyObject.exp);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport TdLib from '../../TdWeb/tdlib';\nimport currencyAmountToString from '../payments/currency-tostring';\n\n/**\n * Gets a textual representation of the message without a thumbnail.\n * Usage examples: \n * - Last message in chat list\n * - Pinned message\n * - Replies\n * - Search results\n * @returns A span element containing a textual representation of the message. Contains span.part-1 and span.part-2\n */\n\nconst MessageSummaryWithoutIcon= connect(state=> ({users: state}))(\n    function MessageSummaryWithoutIcon({message, className, users, chat}) {\n        if(!message) return null;\n        switch(message.content['@type']) {\n        \n        case 'messageAnimation':\n            return <MayHaveCaption type=\"GIF\" caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n        \n        case 'messageAudio':\n            var title= message.content.audio.title || message.content.audio.file_name;\n            if(message.content.audio.performer)\n                title= message.content.audio.performer+ ' ­­– ' + title;\n            return <MayHaveCaption type={title} caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n\n        case 'messageBasicGroupChatCreate':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName chat={chat} message={message} users={users}/> created the group «{message.content.title}»</span>\n                </span>\n            );\n\n        case 'messageCall':\n            var text='';\n            if(message.is_outgoing) {\n                switch(message.content.discard_reason?.['@type']) {\n                case 'callDiscardReasonMissed':\n                    text= 'Cancelled call';\n                    break;\n                default:\n                    text= 'Outgoing call';\n                }\n            } else {\n                switch(message.content.discard_reason?.['@type']) {\n                case 'callDiscardReasonDeclined':\n                    text= 'Declined call';\n                    break;\n                case 'callDiscardReasonMissed':\n                    text= 'Missed call';\n                    break;\n                default: \n                    text= 'Incoming call';\n                }\n            } \n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">{text}</span>\n                </span>\n            );\n\n        case 'messageChatAddMembers':\n            var members= message.content.member_user_ids.map(id=> \n                users[id].last_name ? (users[id].first_name+' '+ users[id].last_name) : users[id].first_name);\n            if(members.length>1){\n                members= members.slice(0, members.length - 1) .join(', ') + ' and ' + members[members.length - 1];\n            } else {\n                members= members[0];\n            }\n            if(message.content.member_user_ids[0] == message.sender?.user_id) {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/> joined the group</span>\n                    </span>\n                );\n            }\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/> added {members}</span>\n                </span>\n            );\n\n        case 'messageChatChangePhoto':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">Photo</span>\n                </span>\n            );\n\n        case 'messageChatChangeTitle': // I can't believe copilot can fill these lines without having access to API docs\n            if(message.is_channel_post) {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\">Channel name was changed to «{message.content.title}»</span>\n                    </span>\n                );\n            } else {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/>\n                        &nbsp;changed group name to «{message.content.title}»</span>\n                    </span>\n                );\n            }\n\n        case 'messageChatDeleteMember':\n            var deletedMember= users[message.content.user_id];\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/>\n                    &nbsp;removed {deletedMember.first_name+' '+ deletedMember.last_name}</span>\n                </span>\n            );\n\n        case 'messageChatDeletePhoto':\n            if(message.is_channel_post) {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\">Channel photo removed</span>\n                    </span>\n                );\n            } else {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/>\n                        &nbsp;removed group photo</span>\n                    </span>\n                );\n            }\n\n        case 'messageChatJoinByLink':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/>\n                    &nbsp;joined the group via invite link</span>\n                </span>\n            );\n\n        case 'messageChatSetTtl':\n            // seconds to day, week and month\n            var timeConversionTable= {86400: 'day', 604800: 'week', 2678400: 'month'};\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users} includeYou={true}/> set messages to auto-delete in 1 {timeConversionTable[message.content.ttl]}</span>\n                </span>\n            );\n\n        case 'messageChatUpgradeFrom':\n        case 'messageChatUpgradeTo':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">Group was upgraded to a super-group</span>\n                </span>\n            );\n\n        case 'messageContact':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">Contact</span>\n                </span>\n            );\n\n        case 'messageContactRegistered':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\"><SenderFullName message={message} chat={chat} users={users}/>\n                    &nbsp;joined Telegram</span>\n                </span>\n            );\n\n        case 'messageCustomServiceAction':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">{message.content.text}</span>\n                </span>\n            );\n\n        case 'messageDice':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">{message.content.emoji}</span>\n                </span>\n            );\n\n        case 'messageDocument':\n            return <MayHaveCaption type={message.content.document.file_name} caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n        \n        // case 'messageExpiredPhoto':\n        // case 'messageExpiredVideo':\n        case 'messageGame':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">🎮 {message.content.game.title}</span>\n                </span>\n            );\n\n        case 'messageGameScore':\n            var noGameTitleFallback= (\n                <span className={className}><span className=\"part-1\">\n                    <SenderFullName message={message} chat={chat} users={users} includeYou={true}/> scored {message.content.score}\n                </span></span>\n            );\n\n            // Get game message\n            var GameScoreWithTitle= React.lazy(()=>new Promise(resolve=> {\n                TdLib.sendQuery({\n                    '@type': 'getMessage',\n                    chat_id: chat.id,\n                    message_id: message.content.game_message_id\n                }).then(\n                    result=> { \n                        //eslint-disable-next-line react/display-name\n                        resolve({ default: ()=> (\n                            <span className={className}><span className=\"part-1\">\n                                <SenderFullName message={message} chat={chat} users={users} includeYou={true}/> scored {message.content.score} in {result.content.game.title}\n                            </span></span>\n                        )});\n                    },\n                    ()=> { \n                        //eslint-disable-next-line react/display-name\n                        resolve({ default: ()=> noGameTitleFallback});\n                    }\n                );\n            }));\n\n            return (\n                <React.Suspense fallback={noGameTitleFallback}>\n                    <GameScoreWithTitle/>\n                </React.Suspense>\n            );\n\n        case 'messageInvoice':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">{message.content.title}</span>\n                </span>\n            );\n\n        case 'messageLocation':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">{message.content.title}</span>\n                </span>\n            );\n\n        case 'messagePassportDataSent':\n            var passportDataTypeToString= {\n                'passportElementTypeAddress': 'address',\n                'passportElementTypeBankStatement': 'bank statement',\n                'passportElementTypeDriverLicense': 'driver license',\n                'passportElementTypeEmailAddress': 'email address',\n                'passportElementTypeIdentityCard': 'identity card',\n                'passportElementTypeInternalPassport': 'internal passport',\n                'passportElementTypePassport': 'passport',\n                'passportElementTypePassportRegistration': 'passport registration',\n                'passportElementTypePersonalDetails': 'personal details',\n                'passportElementTypePhoneNumber': 'phone number',\n                'passportElementTypeRentalAgreement': 'rental agreement',\n                'passportElementTypeTemporaryRegistration': 'temporary registration',\n                'passportElementTypeUtilityBill': 'utility bill',\n            };\n            var passportDataTypes= message.content.types.map(type=> passportDataTypeToString[type['@type']]);\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">\n                        {chat.title} received the following documents: {passportDataTypes.join(', ')}\n                    </span>\n                </span>\n            );\n\n        case 'messagePaymentSuccessful':\n            var noInvoiceTitleFallback= (\n                <span className={className}>\n                    <span className=\"part-1\">\n                        You successfully transferred \n                        {currencyAmountToString(message.content.currency, message.content.total_amount)} \n                        to {chat.title}\n                    </span>\n                </span>\n            );\n\n            // Get invoice message\n            var PaymentInfoWithInvoiceTitle= React.lazy(()=>new Promise(resolve=> {\n                TdLib.sendQuery({\n                    '@type': 'getMessage',\n                    chat_id: chat.id,\n                    message_id: message.content.invoice_message_id\n                }).then(\n                    result=> { \n                        //eslint-disable-next-line react/display-name\n                        resolve({ default: ()=> (\n                            <span className={className}>\n                                <span className=\"part-1\">\n                                    You successfully transferred \n                                    {currencyAmountToString(message.content.currency, message.content.total_amount)} \n                                    to {chat.title} for {result.content.title}\n                                </span>\n                            </span>\n                        )});\n                    },\n                    (error)=> { \n                        console.log(error);\n                        resolve({ default: ()=> noInvoiceTitleFallback});\n                    }\n                );\n            }));\n\n            return (\n                <React.Suspense fallback={noInvoiceTitleFallback}>\n                    <PaymentInfoWithInvoiceTitle/>\n                </React.Suspense>\n            );\n\n        case 'messagePhoto':\n            if(message.content.is_secret) {\n                if(message.is_outgoing) {\n                    return (\n                        <span className={className}>\n                            <span className=\"part-1\">You sent a self-destructing photo</span>\n                        </span>\n                    );\n                } else {\n                    return (\n                        <span className={className}><span className=\"part-1\">\n                            <SenderFullName message={message} chat={chat} users={users}/> sent you a self-destructing photo. Please view it on your mobile.\n                        </span></span>\n                    );\n                }\n            } else {\n                return <MayHaveCaption type=\"Photo\" caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n            }\n        \n        // case 'messagePinMessage':\n        case 'messagePoll':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">{message.content.poll.question}</span>\n                </span>\n            );\n        \n        // case 'messageProximityAlertTriggered':\n        // case 'messageScreenshotTaken':\n        case 'messageSticker':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">{message.content.sticker.emoji} Sticker</span>\n                </span>\n            );\n\n        case 'messageSupergroupChatCreate':\n            if(message.is_channel_post) {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\">Channel created</span>\n                    </span>\n                );\n            } else {\n                return (\n                    <span className={className}>\n                        <span className=\"part-1\"><SenderFullName chat={chat} message={message} users={users}/> created the group «{message.content.title}»</span>\n                    </span>\n                );\n            }\n\n        case 'messageText':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-2\">{message.content.text.text.replace(/(\\n|\\r|\\r\\n|\\n\\r)/g, ' ')}</span>\n                </span>\n            );\n\n        case 'messageUnsupported':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-2\">This message is not supported by your version of DIBgram. Please update to the latest version.</span>\n                </span>\n            );\n        \n        case 'messageVenue':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">Location, </span>\n                    <span className=\"part-2\">{message.content.venue.title}</span>\n                </span>\n            );\n\n        case 'messageVideo':\n            return <MayHaveCaption type=\"Video\" caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n\n        case 'messageVideoNote':\n            return (\n                <span className={className}>\n                    <MessageSummarySender message={message} chat={chat}/>\n                    <span className=\"part-1\">Video message</span>\n                </span>\n            );\n\n        case 'messageVoiceNote':\n            return <MayHaveCaption type=\"Voice message\" caption={message.content.caption?.text} className={className} message={message} chat={chat}/>;\n\n        case 'messageWebsiteConnected':\n            return (\n                <span className={className}>\n                    <span className=\"part-1\">You allowed this bot to message you when you logged in on {message.content.domain_name}</span>\n                </span>\n            );\n\n        default:\n            return null;\n        }\n    });\nexport default MessageSummaryWithoutIcon;\nMessageSummaryWithoutIcon.propTypes= {\n    message: PropTypes.object,\n    className: PropTypes.string\n};\n\n\n// If caption has a value, add a comma to type and return type\nfunction MayHaveCaption({type, caption, className, message, chat}) {\n    if(caption) type+=',';\n    return (\n        <span className={className}>\n            <MessageSummarySender message={message} chat={chat}/>\n            <span className=\"part-1\">{type}</span> <span className=\"part-2\">{caption.replace(/(\\n|\\r|\\r\\n|\\n\\r)/g, ' ')}</span>\n        </span>\n    );\n}\nMayHaveCaption.propTypes= {\n    type: PropTypes.string.isRequired,\n    caption: PropTypes.string,\n    className: PropTypes.string,\n    message: PropTypes.object,\n    chat: PropTypes.object\n};\n\nfunction SenderFullName({message, chat, users, includeYou}) {\n    if(includeYou) {\n        return message.is_outgoing ? 'You' : <SenderFullName message={message} chat={chat} users={users}/>;\n    }\n    const sender=message.sender;\n    const user=users[sender.user_id];\n    if(sender['@type']=='messageSenderUser') {\n        return user.last_name ? (user.first_name +' '+ user.last_name) : user.first_name;\n    } else if(sender['@type']=='messageSenderChat') {\n        return chat.title;\n    }\n}\n\nexport const MessageSummarySender= connect(state=> ({users: state}))(\n    function MessageSummarySender ({message, chat, users}) {\n        if(!message) return null;\n        var part1;\n        if(chat && (!message.is_channel_post)) {\n            if(message.is_outgoing) {\n                part1= 'You: ';\n            } else if(['chatTypeBasicGroup', 'chatTypeSupergroup'].includes(chat.type['@type'])) {\n                if(message.sender['@type']=='messageSenderUser') {\n                    part1= users[message.sender.user_id].first_name + ': ';\n                }\n            }\n            if(message.sender['@type']=='messageSenderChat') {\n                part1= chat.title+': ';\n            }\n        }\n        return part1? <span className=\"sender\">{part1}</span> : null;\n    });\nMessageSummarySender.propTypes= {\n    message: PropTypes.object.isRequired,\n    chat: PropTypes.object.isRequired\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './link-button.scss';\n\nexport default function LinkButton({children, onClick}) {\n    return (\n        <button className=\"link-button\" onClick={onClick}>{children}</button>\n    );\n}\nLinkButton.propTypes = {\n    children: PropTypes.node.isRequired,\n    onClick: PropTypes.func\n};\n","import {createStore} from 'redux';\nimport TdLib from '../TdWeb/tdlib';\n\nfunction reducer(state, action) {\n    switch (action.type) {\n    case 'UPD_SUPERGROUP':\n        return {\n            ...state,\n            [action.supergroup.id]: action.supergroup\n        };\n    default:\n        return state;\n    }\n}\n\nconst supergroupStore= createStore(reducer);\nexport default supergroupStore;\n\nTdLib.registerUpdateHandler('updateSupergroup', (update) => {\n    supergroupStore.dispatch({\n        type: 'UPD_SUPERGROUP',\n        supergroup: update.supergroup\n    });\n});","\n/**\n * Converts a date and time to a short string.\n * - If the date is in the last 20 hours, the time is displayed in the format HH:MM.\n * - If the date is in the last 7 days, the weekday is displayed.\n * - If the date is older, the date is displayed in the format DD.MM.YY.\n * @param {Date|Number} date Input date\n */\nexport function smallDateTimeToString(date) {\n    if(typeof date == 'number') date= TdLibDateToDate(date);\n    const now = new Date();\n    const yesterday = new Date(now.getTime() - 20 * 60 * 60 * 1000);\n    const lastWeek = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n\n    if (date.getTime() >= yesterday.getTime()) {\n        return timeToString(date);\n    } else if (date.getTime() >= lastWeek.getTime()) {\n        return weekdayToString(date);\n    } else {\n        return dateToString(date);\n    }\n}\n\n/**\n * Formats time in 12-hour format\n * @param {Date|Number} date input date\n */\nexport function timeToString(date) {\n    if(typeof date == 'number') date= TdLibDateToDate(date);\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    const ampm = hours >= 12 ? 'PM' : 'AM';\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? `0${minutes}` : minutes;\n    return `${hours}:${minutes} ${ampm}`;\n}\n\n/**\n * Formats weekday in WWW format\n * @param {Date|Number} date input date\n */\nexport function weekdayToString(date) {\n    if(typeof date == 'number') date= TdLibDateToDate(date);\n    const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n    return weekdays[date.getDay()];\n}\n\n/**\n * Formats date in DD.MM.YY format\n * @param {Date|Number} date input date\n */\nexport function dateToString(date) {\n    if(typeof date == 'number') date= TdLibDateToDate(date);\n    var day = date.getDate();\n    var month = date.getMonth() + 1;\n    const year = String(date.getFullYear()).slice(2);\n    if (day < 10) {\n        day = `0${day}`;\n    }\n    if (month < 10) {\n        month = `0${month}`;\n    }\n    return `${day}.${month}.${year}`;\n}\n\nexport function TdLibDateToDate(tdLibDate) {\n    return new Date(tdLibDate * 1000);\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect, Provider } from 'react-redux';\nimport TdLib from '../../../TdWeb/tdlib';\nimport { compareChatList } from '../../chat-store';\nimport './chat-list.scss';\nimport ProfilePhoto, { getChatTypeId } from '../profile-photo';\nimport { dialogs_chat, dialogs_channel, dialogs_bot, dialogs_pinned, dialogs_verified_star, dialogs_verified_check, dialogs_sending, dialogs_sent, dialogs_received } from '../../../ui/icon/icons';\nimport usersStore from '../../users-store';\nimport ScrollView from '../../../ui/scroll/scrollbar';\nimport MessageSummaryWithoutIcon from '../../message/message-summary-noicon';\nimport LinkButton from '../../../ui/elements/link-button';\nimport { currentConnectionState } from '../../../ui/components/connecting';\nimport { isChatWithDeletedAccount, isChatVerified } from '../../chat-misc';\nimport { smallDateTimeToString } from '../../../time-tostring';\nimport { getMessageStatus } from '../../message-misc';\nimport options from '../../../TdWeb/options';\n\nconst ChatList= connect(state=> ({chats: state.chats, list: state.currentChatList}))(\n    class ChatList extends React.Component { \n        static propTypes = {\n            chats: PropTypes.array.isRequired,\n            list: PropTypes.object.isRequired\n        }\n\n\n        /**\n         * Returns a sorted list of all chats in the given chat list\n         * \n         * Also for every chat, sets `chat.position` to the matching position (creates copy instead of modifying original object)\n         * @param {import('tdweb').TdObject[]} chats\n         * @param {import('tdweb').TdObject} list\n         */\n        getChatsFromList(chats, list) {\n            return chats.map(chat => {\n                for( const position of chat.positions ) {\n                    if (compareChatList(list, position.list)) {\n                        if( position.order=='0' ) return false;\n                        return {\n                            ...chat,\n                            position: position\n                        };\n                    }\n                }\n                return chat;\n            })\n                .filter(chat => !!chat.position)\n                .sort((a, b) => {\n                    let order1= a.position.order, order2= b.position.order;\n\n                    if (order1 == order2) {\n                        return 0;\n                    }\n                    if (order1 < order2) {\n                        return 1;\n                    }\n                    return -1;\n                });\n        }\n\n\n        render() {\n            const array= this.getChatsFromList(this.props.chats, this.props.list).map(chat=><ChatListItem key={chat.id} chat={chat} />);\n            return (\n                <ScrollView id=\"chat-list\" scrollBarWidth=\"4\">\n                    {array.length ? array :  <EmptyChatList list={this.props.list} />}\n                </ScrollView>\n            );\n        }\n\n        componentDidMount() {\n            TdLib.sendQuery({\n                '@type': 'getChats',\n                'chat_list': {\n                    '@type': 'chatListMain'\n                },\n                'offset_order': '9223372036854775807',\n                'offset_chat_id': 0,\n                'limit': 50\n            });\n        }\n    }\n);\nexport default ChatList;\n\nexport function ChatListItem({chat}){\n    var chatType= '';\n    if (chat.type?.['@type'] == 'chatTypeBasicGroup' ||\n            (chat.type?.['@type'] == 'chatTypeSupergroup' &&\n            chat.type?.is_channel == false)\n    ){\n        chatType= dialogs_chat;\n    } \n    else if (chat.type?.['@type'] == 'chatTypeSupergroup' &&\n             chat.type?.is_channel == true){\n        chatType= dialogs_channel;\n    } \n    else if ((chat.type?.['@type'] == 'chatTypePrivate') &&\n             (usersStore.getState()[chat.type?.user_id]?.type?.['@type'] == 'userTypeBot')){\n        chatType= dialogs_bot;\n    }\n    if (chat.id==options['replies_bot_chat_id']) {\n        chatType= '';\n    }\n\n    if(isChatWithDeletedAccount(chat)) {\n        chat.title= 'Deleted Account'; // Chat object is a copy, so there is no problem with mutating it.\n    }\n\n    const isVerified= isChatVerified(chat);\n\n    if (chat.id==options['my_id']) {\n        chat.title= 'Saved Messages';\n    }\n\n    var messageStatus = null;\n    switch(getMessageStatus(chat, chat.last_message)) {\n    case 'sending': \n        messageStatus = <span className=\"message-status-icon sending\" dangerouslySetInnerHTML={{__html: dialogs_sending}}/>;\n        break;\n    case 'sent': \n        messageStatus = <span className=\"message-status-icon sent\" dangerouslySetInnerHTML={{__html: dialogs_sent}}/>;\n        break;\n    case 'seen': \n        messageStatus = <span className=\"message-status-icon seen\" dangerouslySetInnerHTML={{__html: dialogs_received}}/>;\n        break;\n    }\n\n    var unreadBadge = null;\n    const unreadBadgeClass= chat.notification_settings.mute_for ? 'unread-badge muted' : 'unread-badge';\n    // Show the mention badge alone if there is exactly one mention and no other unread messages\n    if (chat.unread_mention_count == 1 && chat.unread_count == chat.unread_mention_count) {\n        unreadBadge = <span className=\"unread-badge mention\">@</span>;\n    } \n    // Show the mention badge with unread badge together if there are more than one unread messages and there are mentions\n    else if (chat.unread_mention_count > 0 && chat.unread_count > 1 ) {\n        unreadBadge = <React.Fragment>\n            <span className=\"unread-badge mention\">@</span>\n            <span className={unreadBadgeClass}>{chat.unread_count}</span>\n        </React.Fragment>;\n    }\n    // Show the unread badge alone if there are no mentions and there are unread messages\n    else if (chat.unread_count > 0 && chat.unread_mention_count == 0) {\n        unreadBadge = <span className={unreadBadgeClass}>{chat.unread_count}</span>;\n    }\n    // Show an empty badge if chat is manually marked as unread\n    else if (chat.is_marked_as_unread) {\n        unreadBadge = <span className={unreadBadgeClass}></span>;\n    }\n    else {\n        unreadBadge = chat.position?.is_pinned && <span className=\"pinned_icon\" dangerouslySetInnerHTML={{__html: dialogs_pinned}}></span>;\n    }\n\n    return(\n        <div className=\"chat\">\n            <ProfilePhoto name={chat.title} photo={chat.photo?.small} id={getChatTypeId(chat)}/>\n            <div className=\"content\">\n                <div className=\"top\">\n                    <div className=\"left\">\n                        <div className=\"type-icon\" dangerouslySetInnerHTML={{__html: chatType}}></div>\n                        <div className=\"title\">{chat.title}</div>\n                        {isVerified && <span className=\"verified-icon\">\n                            <span className=\"verified-icon-star\" dangerouslySetInnerHTML={{__html: dialogs_verified_star}}></span>\n                            <span className=\"verified-icon-check\" dangerouslySetInnerHTML={{__html: dialogs_verified_check}}></span>\n                        </span>}\n                    </div>\n                    <div className=\"right\">\n                        {messageStatus}\n                        {chat.last_message?.date && <span className=\"date\">{smallDateTimeToString(chat.last_message.date)}</span>}\n                    </div>\n                </div>\n                <div className=\"bottom\">\n                    <div className=\"left\">\n                        {chat.draft_message ? \n                            <span className=\"last-message\">\n                                <span className=\"draft\">Draft:</span> <span className=\"part-2\">{chat.draft_message.input_message_text.text.text}</span>\n                            </span> \n                            : \n                            <Provider store={usersStore}>\n                                <MessageSummaryWithoutIcon message={chat.last_message} chat={chat} className=\"last-message\"/>\n                            </Provider>\n                        }\n                    </div>\n                    <div className=\"right\">\n                        {unreadBadge}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\nChatListItem.propTypes = {\n    chat: PropTypes.object.isRequired\n};\n\nfunction EmptyChatList({list}) {\n    if(currentConnectionState!='connectionStateReady') {\n        return (\n            <div className=\"empty\">\n                <div>Loading...</div>\n            </div>\n        );\n    }\n    if(list['@type']=='chatListFilter'){\n        return (\n            <div className=\"empty\">\n                <div>No chats currently belong to this folder.</div>\n                <LinkButton>Edit Folder</LinkButton>\n            </div>\n        );\n    } else {\n        return (\n            <div className=\"empty\">\n                <div>Your chats will be here</div>\n                <LinkButton>New contact</LinkButton>\n            </div>\n        );\n    }\n}\n","import supergroupStore from './supergroup-store';\nimport usersStore from './users-store';\n\nexport function isChatWithDeletedAccount(chat) {\n    switch (chat.type['@type']) {\n    case 'chatTypeBasicGroup':\n    case 'chatTypeSupergroup':\n        return false;\n    \n    case 'chatTypeSecret':\n    case 'chatTypePrivate': \n        var user= usersStore.getState()?.[chat.type.user_id];\n        return user && user.type['@type'] === 'userTypeDeleted';\n    }\n    return false;\n}\n\nexport function isChatVerified(chat){\n    switch (chat.type['@type']) {\n    case 'chatTypeBasicGroup':\n        return false;\n\n    case 'chatTypeSupergroup':\n        var supergroup= supergroupStore.getState()?.[chat.type.supergroup_id];\n        return supergroup.is_verified;\n        \n    case 'chatTypeSecret':\n    case 'chatTypePrivate': \n        var user= usersStore.getState()?.[chat.type.user_id];\n        return user.is_verified;\n    }\n    return false;\n}","/**\n * Gets message sending status. Can return 3 values:\n * - `\"sending\"`: the message is outgoing and is being sent.\n * - `\"sent\"`: the message is outgoing and was sent.\n * - `\"seen\"`: the message is outgoing and was seen by the other party.\n * - `\"unread\"`: the message is incoming and was not seen by this party.\n * - `\"read\"`: the message is incoming and was seen by this party.\n * @param {import(\"tdweb\").TdObject} chat The chat in which the message was sent.\n * @param {import(\"tdweb\").TdObject} message The message to check.\n */\nexport function getMessageStatus(chat, message) {\n    if(!chat || !message) return undefined;\n    if(message.is_outgoing) {\n        if(message.sending_state) {\n            return 'sending';\n        }\n        if(chat.last_read_outbox_message_id >= message.id) {\n            return 'seen';\n        }\n        return 'sent';\n    }\n    if(chat.last_read_inbox_message_id >= message.id) {\n        return 'read';\n    }\n    return 'unread';\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './search-box.scss';\nimport { info_close } from '../../../../ui/icon/icons';\n\n/**\n * Renders the search box.\n */\nexport default function SearchBox(props) {\n    return (\n        <div id=\"search-box\">\n            <input \n                placeholder=\"Search\"\n                value={props.value}\n                onChange={props.onChange}\n                {...props}/>\n            <button \n                className=\"clear\" \n                onClick={()=> props.onChange && props.onChange({target: {value: ''}})}\n                data-visible={(props.value || '').length}\n                dangerouslySetInnerHTML={{__html: info_close}}>\n            </button>\n        </div>\n    );\n}\nSearchBox.propTypes= {\n    value: PropTypes.string,\n    onChange: PropTypes.func\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport ConnectionState from '../../../ui/components/connecting';\nimport ChatList from './chat-list';\nimport SearchBox from './search/search-box';\n\n/**\n * Renders the navigation menu, containing chat list, search field and search results, chat folders and the hamburger menu\n */\nconst ChatListBar = connect(function (state) {\n    return {useFolders: (state||[]).length!=0};\n})(function ChatListBar() {\n    var [searchText, setSearchText] = React.useState('');\n    return (\n        <div id=\"chat-list-bar\">\n            <SearchBox value={searchText} onChange={e => setSearchText(e.target.value)}/>\n            <ChatList/>\n            <ConnectionState/>\n        </div>\n    );\n});\nexport default ChatListBar;\n","import React from 'react';\nimport TdLib from '../TdWeb/tdlib';\nimport BigHighlightedButton from '../ui/elements/highlighted-button';\nimport ChatFoldersList from './ui/navigation-menu/chat-folders';\nimport ChatListBar from './ui/navigation-menu/chat-list-bar';\nimport chatStore from './chat-store';\nimport { Provider } from 'react-redux';\n\n/**\n * Renders the messenger screen\n */\nexport function MessengerWindow () {\n    function logOut() {\n        TdLib.sendQuery({\n            '@type': 'logOut'\n        });\n    }\n    return (\n        <div id=\"messenger-screen\">\n            <Provider store={chatStore}>\n                <ChatFoldersList/>\n                <ChatListBar/>\n            </Provider>\n            <div id=\"chat-container\">\n                This is messenger window. You&apos;ve authenticated successfully!\n                <BigHighlightedButton onClick={logOut}>Log out</BigHighlightedButton>\n            </div>\n        </div>\n    );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Renders a beautiful field with a title and underline\n */\nexport default class UnderlinedInput extends React.Component {\n    constructor(args) {\n        super(args);\n\n        this.state= {\n            inactive: false,\n            mouseX: '50%',\n            titleClass: this.getTitleClass(this.props.autoFocus)\n        };\n    }\n\n    getTitleClass (focus) {\n        return (focus || (!!this.props.value)) ? 'title top' : 'title placeholder';\n    }\n\n    render () {\n        var className='underlined-input';\n        if(this.state.inactive) {\n            className+=' inactive';\n        }\n        if(this.props.autoFocus) {\n            className+=' autoFocus';\n        }\n        if(this.props.invalid) {\n            className+=' invalid';\n        }\n        return (\n            <div className={className}\n                style={{'--mouse-left': this.state.mouseX || '50%'}}>\n                { this.props.title ? (\n                    <div className={this.state.titleClass}>{this.props.title}</div>\n                ) : null }\n                <input \n                    type={this.props.type} \n                    onChange={this.props.onChange} \n                    value={this.props.value}\n                    onMouseDown={this.handleMouseDown}\n                    onFocus={this.handleFocus}\n                    onBlur={this.handleBlur}\n                    autoFocus={this.props.autoFocus || false}\n                    onKeyDown={this.handleKeyDown}\n                    maxLength={this.props.maxLength}\n                    onCopy={e=> {\n                        if(this.props.disableCopy) {\n                            e.preventDefault();\n                        }\n                    }}/>\n                <div className=\"underline\"></div>\n            </div>\n        );\n    }\n\n    handleFocus =()=>{\n        this.setState({\n            inactive: false,\n            titleClass: this.getTitleClass(true)\n        });\n    }\n    handleBlur =()=>{\n        this.setState({\n            inactive: true, \n            mouseX: '50%',\n            titleClass: this.getTitleClass(false)\n        });\n    }\n    handleMouseDown =(e)=>{\n        this.setState({\n            mouseX: e.nativeEvent.offsetX+'px'\n        });\n    }\n    handleKeyDown =(e)=>{\n        if(e.key=='Enter') {\n            this.props.onEnterKeyPressed && this.props.onEnterKeyPressed();\n        }\n    }\n\n    static propTypes = {\n        type: PropTypes.oneOf(['text', 'number', 'password', 'email', 'url']).isRequired,\n        onChange: PropTypes.func,\n        value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        maxLength: PropTypes.number,\n        active: PropTypes.bool,\n        autoFocus: PropTypes.bool,\n        onEnterKeyPressed: PropTypes.func,\n        title: PropTypes.string,\n        invalid: PropTypes.bool,\n        disableCopy: PropTypes.bool,\n    }\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStore } from 'redux';\n\n/**\n * A redux store which state is an array of objects with {id: unique ID of dialog, element: react element of the dialog}\n */\nexport var dialogStore= createStore(\n    /**\n     * @param {any[]} state\n     * @param {Object} action\n     */\n    function (state= [], action) {\n        switch (action.type) {\n        case 'ADD_DIALOG':\n            return [\n                ...state,\n                action.dialog\n            ];\n        \n        case 'REMOVE_DIALOG':\n            return state.filter(value => value.id!=action.id);\n        \n        default:\n            break;\n        }\n    },\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\n/**\n * Opens a dialog\n * @param {string} id A unique ID for the dialog\n * @param {React.ReactElement} dialog The dialog React element\n */\nexport function addDialog(id, dialog) {\n    dialogStore.dispatch({\n        type: 'ADD_DIALOG',\n        dialog: {\n            element: dialog,\n            id: id\n        }\n    });\n}\n\n/**\n * Closes an existing dialog\n * @param {string} id The dialog unique ID\n */\nexport function removeDialog(id) {\n    dialogStore.dispatch({\n        type: 'REMOVE_DIALOG',\n        id: id\n    });\n}\n\nfunction Wrapper(props){\n    return props.children;\n}\n\n/**\n * Renders all dialogs.\n */\nconst Dialogs= (connect(function (state) {\n    return {dialogs: state || []};\n})(function Dialogs(props) {\n    return props.dialogs.map(el => <Wrapper key={el.id}>{el.element}</Wrapper>) || null;\n}));\n\nexport default Dialogs;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RippleEffect, {handleMyMouseEvents} from './ripple-effect';\n\n/**\n * Renders a small button with accent color\n */\nexport default class SmallButton extends React.Component {\n    static propTypes= {\n        /** The button's content */\n        children: PropTypes.node.isRequired,\n        /** Fires when the button is clicked */\n        onClick: PropTypes.func\n    };\n    state= {\n        ripple: {\n            state: 'off'\n        }\n    }\n    constructor() {\n        super();\n        [this.mouseDown, this.mouseUp, this.mouseLeave]= handleMyMouseEvents(this);\n    }\n    render() {\n        return (\n            <button \n                className=\"small-button\" \n                onClick={this.props.onClick}\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                onMouseLeave={this.mouseLeave}>\n\n                <RippleEffect {...this.state.ripple} color=\"var(--theme-color-lightButtonBgRipple)\"/>\n\n                <div className=\"invisibleText\">\n                    {this.props.children}\n                </div>\n                <div className=\"content\">\n                    {this.props.children}\n                </div>\n                \n            </button>\n        );\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport SmallButton from '../elements/small-button';\nimport { removeDialog } from './dialogs';\n/**\n * Renders a modal dialog with a title and cancel and OK button. OK button text can be changed.\n */\nexport default class ConfirmDialog extends React.Component{\n    static propTypes= {\n        children: PropTypes.node.isRequired,\n        /** Dialog width in CSS format */\n        width: PropTypes.string,\n        /** Dialog header */\n        title: PropTypes.string,\n        /** Text content of the OK button*/\n        OKButtonText: PropTypes.string,\n        /** Pass true to only show the OK button */\n        hideCancelButton: PropTypes.bool,\n        /** Unique ID of this dialog, used to close it. */\n        id: PropTypes.any.isRequired,\n        /** Called when the OK button is pressed */\n        onOK: PropTypes.func,\n        /** Called when the cancel button is pressed */\n        onCancel: PropTypes.func\n    };\n    state= {\n        closing: false\n    }\n    handleOK =()=>{\n        this.closeDialog();\n        this.props.onOK && this.props.onOK();\n    }\n    handleCancel =()=>{\n        this.closeDialog();\n        this.props.onCancel && this.props.onCancel();\n    }\n    render() {\n        return (\n            <div className={'modal-dialog confirm-dialog' + ((this.state.closing) ? ' closing' : '')}>\n                <div style={{\n                    'width': this.props.width || 'auto'\n                }}>\n                    <h1>{this.props.title || ''}</h1>\n                    <div className=\"content\">\n                        {this.props.children}\n                    </div>\n                    <div className=\"options\">\n                        {this.props.hideCancelButton ? null : (\n                            <SmallButton onClick={this.handleCancel}>\n                                Cancel\n                            </SmallButton>\n                        )}\n                        <SmallButton onClick={this.handleOK}>\n                            {this.props.OKButtonText || 'OK'}\n                        </SmallButton>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    \n    closeDialog= ()=>{\n        this.setState({\n            closing: true\n        });\n        setTimeout(() => {\n            removeDialog(this.props.id);\n        }, 1000);\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TdLib from '../TdWeb/tdlib';\nimport Auth from './auth';\nimport {MessengerWindow} from '../messenger/messengerWindow';\n\nimport BigHighlightedButton from '../ui/elements/highlighted-button';\nimport UnderlinedInput from '../ui/elements/underlined-input';\nimport ConnectionState from '../ui/components/connecting';\nimport { addDialog } from '../ui/dialog/dialogs';\nimport ConfirmDialog from '../ui/dialog/confirm-dialog';\n\nvar initialAuthState = {'@type': undefined};\nexport function setInitialAuthState(state) {\n    initialAuthState=state;\n}\n\n/**\n * Start managing a status text block with fade effects.  \n * Usage:\n * ```js\n * manageStatusTextContent(this);\n * ```\n * \n * @param {React.Component} thisClass pass `this` as this argument\n * @returns Store this function and call it to change \n */\nfunction manageStatusTextContent(thisClass) {\n    thisClass.Status= function Status(){\n        return (\n            <div className={'status'+ (thisClass.state.statusVisible?'':' hidden')}>{thisClass.state.statusContent}</div>\n        );\n    };\n    thisClass.changeStatus= function(string){\n        if(string) {\n            thisClass.setState({\n                statusContent: string,\n                statusVisible: true\n            });\n        } else {\n            thisClass.setState({\n                statusVisible: false\n            });\n            setTimeout(() => {\n                thisClass.setState({\n                    statusContent: null\n                });\n            }, 1000);\n        }\n    };\n}\n\n/**\n * Renders the messenger or authorization screens. Does not include dialogs and toasts\n */\nexport class MainApp extends React.Component {\n    state= {\n        step: initialAuthState\n    };\n\n    componentDidMount(){\n        // eslint-disable-next-line no-func-assign\n        setInitialAuthState= state=> {\n            this.setState({step: state});\n        };\n\n        TdLib.registerUpdateHandler('updateAuthorizationState', this.handleAuthStateUpdate);\n    }\n\n    handleAuthStateUpdate= update => {\n        const states= [\n            'authorizationStateWaitPhoneNumber',\n            'authorizationStateWaitCode',\n            'authorizationStateWaitPassword',\n            'authorizationStateWaitRegistration',\n            'authorizationStateReady',\n            'authorizationStateClosed',\n        ];\n        const state=update['authorization_state'];\n        if(states.includes(state['@type'])) {\n            this.setState({step: state});\n        }\n    };\n    \n    render () {\n        switch (this.state.step['@type']) {\n        case 'authorizationStateWaitPhoneNumber':\n            return (\n                <AuthWindowStepPhoneNumber/>\n            );\n\n        case 'authorizationStateWaitCode':\n            return (\n                <AuthWindowStepCode info={this.state.step.code_info}/>\n            );\n\n        case 'authorizationStateWaitPassword':\n            return (\n                <AuthWindowStepPassword info={this.state.step}/>\n            );\n\n        case 'authorizationStateWaitRegistration':\n            return (\n                <AuthWindowStepRegister/>\n            );\n\n        case 'authorizationStateReady':\n            return (\n                <MessengerWindow/>\n            );\n\n        case 'authorizationStateClosed':\n            window.location.reload();\n            return (\n                <p>This session is closed. Please wait till DIBgram reloads automatically...</p>\n            );\n        \n        default:\n            return <p>Loading...</p>;\n        }\n    }\n}\n\n/**\n * Renders the phone number step of authorization screen\n */\nclass AuthWindowStepPhoneNumber extends React.Component {\n    constructor(args) {\n        super(args);\n        manageStatusTextContent(this);\n    }\n    state= {\n        number: '',\n        invalid: false,\n        statusContent: '',\n        statusVisible: false\n    };\n    handlePNFieldChange = (event) => {\n        this.setState({\n            number: event.target.value,\n            invalid: false\n        });\n        this.changeStatus('');\n    }\n    submitNumber= async () => {\n        Auth.givePhoneNumber(this.state.number).catch(reason=> {\n            switch(reason.message){\n            case 'PHONE_NUMBER_FLOOD':\n                addDialog( 'phone_number_flood_error',\n                    <ConfirmDialog width=\"320px\" hideCancelButton={true} id=\"phone_number_flood_error\">\n                        Sorry, you have deleted and re-created your account too many times recently.<br/>\n                        Please wait for a few days before signing up again.\n                    </ConfirmDialog>\n                );\n                this.changeStatus('');\n                break;\n            case 'PHONE_NUMBER_INVALID':\n                this.setState({invalid: true});\n                this.changeStatus('Invalid phone number. Please try again.');\n                \n                break;\n            case 'Another authorization query has started': \n                break;\n            default:\n                this.setState({invalid: false});\n                this.changeStatus(reason.message);\n                break;\n            }\n        });\n    }\n    render () {\n        const Status=this.Status;\n        return (\n            <div id=\"auth\" className=\"auth-step-phoneNumber\">\n\n                <h2>Your Phone Number</h2>\n\n                <p className=\"description\">\n                    Please confirm your country code and enter your mobile phone number.\n                </p>\n\n                <UnderlinedInput \n                    type=\"text\" \n                    value={this.state.number} \n                    autoFocus={true}\n                    onChange={this.handlePNFieldChange}\n                    onEnterKeyPressed={this.submitNumber}\n                    invalid={this.state.invalid}/>\n\n                <Status/>\n\n                <BigHighlightedButton \n                    onClick={this.submitNumber}>\n                    NEXT\n                </BigHighlightedButton>\n\n                <ConnectionState/>\n            </div>\n        );\n    }\n}\n\n/**\n * Renders verification code step of authorization screen\n */\nclass AuthWindowStepCode extends React.Component {\n    static propTypes= {\n        info: PropTypes.object\n    };\n    constructor(args) {\n        super(args);\n        manageStatusTextContent(this);\n    }\n    state= {\n        code: '',\n        invalid: false,\n        statusContent: '',\n        statusVisible: false\n    };\n    handleCodeFieldChange= (event) => {\n        this.setState({\n            code: event.target.value,\n            invalid: false\n        });\n        this.changeStatus('');\n        if(event.target.value.length==this.props.info.type.length) {\n            this.handleContinueButton(event.target.value);\n        }\n    }\n    handleContinueButton= (code) => {\n        if(typeof code != 'string') {\n            code= undefined;\n        }\n        code = code || this.state.code;\n        if(code.length!=this.props.info.type.length) return;\n\n        Auth.checkAuthCode(code).catch(reason=> {\n            if(reason.message==='PHONE_CODE_INVALID'){\n                this.setState({invalid: true});\n                this.changeStatus('You have entered an invalid code.');\n            }\n            else {\n                this.setState({invalid: true});\n                this.changeStatus(reason.message);\n            }\n        });\n    }\n    render () {\n        const Status = this.Status;\n\n        var message= (this.props.info.type['@type']=='authenticationCodeTypeSms') ?\n            (<p className=\"description\">\n                We&apos;ve sent an activation code to your phone. <br/>\n                Please enter it below.\n            </p>) \n            :\n            (<p className=\"description\">\n                A code was sent <strong>via Telegram</strong> to your other devices, if you have any connected.\n            </p>);\n            \n        return (\n            <div id=\"auth\" className=\"auth-step-code\">\n\n                <h2>{this.props.info.phone_number}</h2>\n\n                {message}\n\n                <UnderlinedInput \n                    type=\"text\" \n                    value={this.state.code} \n                    onChange={this.handleCodeFieldChange}\n                    autoFocus={true}\n                    title=\"Code\"\n                    maxLength={this.props.info.type.length}\n                    onEnterKeyPressed={this.handleContinueButton}\n                    invalid={this.state.invalid}/>\n\n                <Status/>\n\n                <BigHighlightedButton \n                    onClick={this.handleContinueButton}>\n                    NEXT\n                </BigHighlightedButton>\n\n                <ConnectionState/>\n            </div>\n        );\n    }\n}\n\n/**\n * Renders 2FA password step of authorization screen\n */\nclass AuthWindowStepPassword extends React.Component {\n    constructor(args) {\n        super(args);\n        manageStatusTextContent(this);\n    }\n    static propTypes= {\n        info: PropTypes.object\n    };\n    state= {\n        password: '',\n        invalid: false,\n        statusContent: '',\n        statusVisible: false\n    };\n    handlePasswordFieldChange= (event) => {\n        this.setState({\n            password: event.target.value,\n            invalid: false,\n        });\n        this.changeStatus('');\n    }\n    handleContinueButton= async () => {\n        Auth.check2FACode(this.state.password).catch(reason=> {\n            if(reason.message=='PASSWORD_HASH_INVALID') {\n                this.setState({invalid: true});\n                this.changeStatus('You have entered a wrong password.');\n            }\n            else {\n                this.setState({invalid: true});\n                this.changeStatus(reason.message);\n            }\n        });\n    }\n    render () {\n        const Status=this.Status;\n        return (\n            <div id=\"auth\" className=\"auth-step-password\">\n                <div className=\"content\">\n\n                    <h2>Cloud password check</h2>\n\n                    <p className=\"description\">\n                        Please enter your cloud password.\n                    </p>\n\n                    <UnderlinedInput \n                        type={'webkitTextSecurity' in document.body.style ? 'text' : 'password'} \n                        value={this.state.password} \n                        onChange={this.handlePasswordFieldChange}\n                        autoFocus={true} \n                        title=\"Your cloud password\"\n                        onEnterKeyPressed={this.handleContinueButton}\n                        disableCopy={true}\n                        invalid={this.state.invalid}/>\n\n                    <div className=\"hint\">\n                        {this.props.info.password_hint?'Hint: ':<span>&nbsp;</span>}{this.props.info.password_hint}\n                    </div>\n\n                    <div className=\"forgot-password\">\n                        <a href=\"#\">Forgot password?</a>\n                    </div>\n\n                    <Status/>\n\n                    <BigHighlightedButton \n                        onClick={this.handleContinueButton}>\n                        SUBMIT\n                    </BigHighlightedButton>\n\n                    <ConnectionState/>\n                </div>\n            </div>\n        );\n    }\n}\n\n/**\n * Render sign up step of authorization screen\n */\nclass AuthWindowStepRegister extends React.Component {\n    state= {\n        firstName: '',\n        lastName: '',\n        statusContent: '',\n        statusVisible: false\n    };\n    handleFirstNameFieldChange= (event) => {\n        this.setState({firstName: event.target.value});\n    }\n    handleLastNameFieldChange= (event) => {\n        this.setState({lastName: event.target.value});\n    }\n    handleContinueButton= async () => {\n        await Auth.registerNewAccount(this.state.firstName, this.state.lastName).catch(reason=> {\n            this.setState({textUnderField: reason.message});\n        });\n    }\n    render () {\n        return (\n            <div id=\"auth\" className=\"auth-step-signup\">\n                <div className=\"content\">\n\n                    <h2>Your info</h2>\n\n                    <p className=\"description\">\n                        Please enter your name and upload a photo.\n                    </p>\n\n                    <UnderlinedInput \n                        type=\"text\" \n                        value={this.state.firstName} \n                        onChange={this.handleFirstNameFieldChange}\n                        autoFocus={true} />\n\n                    <UnderlinedInput \n                        type=\"text\" \n                        value={this.state.lastName} \n                        onChange={this.handleLastNameFieldChange} />\n\n                    <div className=\"status\">\n                        {this.state.textUnderField || ''}\n                    </div>\n\n                    <BigHighlightedButton \n                        onClick={this.handleContinueButton}>\n                        SIGN UP\n                    </BigHighlightedButton>\n\n                    <ConnectionState/>\n                </div>\n            </div>\n        );\n    }\n}\n","// DIBgram themes are converted to CSS in runtime here.\n\nexport function convertThemeToCSS(theme){\n    var css=':root{';\n    for(const name in theme){\n        var obj= theme[name];\n        if(typeof obj.value == 'string') {\n            css+=`--theme-color-${name}: ${obj.value};`;\n        } else if(typeof obj.value == 'object') {\n            css+=`--theme-color-${name}: var(--theme-color-${obj.value.equals});`;\n        }\n    }\n    return css;\n}","import React from 'react';\nimport classic from './classic.json';\nimport theme from './night.json';\nimport { convertThemeToCSS } from './dibgram-theme-to-css';\n\nexport default function CurrentThemeCSS(){\n    return(\n        <style>\n            {convertThemeToCSS({...classic, ...theme})}\n        </style>\n    );\n}\n\nconst isThemeDark=theme.isDark.value;\nexport {isThemeDark};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport {MainApp, setInitialAuthState} from './dibgram/auth/ui';\nimport TdLib from './dibgram/TdWeb/tdlib';\nimport Dialogs, {dialogStore} from './dibgram/ui/dialog/dialogs';\nimport './dibgram/ui/main.scss';\nimport CurrentThemeCSS, {isThemeDark} from './dibgram/ui/themes/theme';\n\nTdLib.initializeTdLib().then(function (res) {\n    setInitialAuthState(res);\n});\n\n/**\n * Renders the whole React app\n */\nfunction App() {\n    return (\n        <div data-theme-is-dark={isThemeDark} id=\"app\">\n            <Provider store={dialogStore}>\n                <Dialogs/>\n            </Provider>\n            <MainApp/>\n            <CurrentThemeCSS/>\n        </div>\n    );\n}\n\nexport default App;\n\nTdLib.registerUpdateHandler('updateFatalError', function (update) {\n    console.error('Fatal error:', update.error);\n    ReactDOM.render((\n        <div>\n            <h1>Fatal error</h1>\n            A fatal error occurred in TdLib.<br/> \n            Try <a href=\"#\" onClick={()=>location.reload()}>refreshing</a>, clearing site data or opening \n            DIBgram in a private window. <br/>\n            If none of these helped, report this to the developers by <a href=\"https://github.com/DIBgram/DIBgram/issues/new/choose\">filing an issue.</a>\n            <br/><br/>\n            <pre>{update.error.toString()}</pre>\n            <CurrentThemeCSS/>\n        </div>\n    ),document.getElementById('root'));\n});","import './remove-item-from-array';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}